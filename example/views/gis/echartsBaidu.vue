<template>
        <div id="allmap"></div>
</template>

<script>
export default {
    data() {
        return {
            map: null,
            zoom: 8,
            mapCenter: [107.093, 37.97008],
            pointArr: [],
            lineArr: []
        }
    },
    props: ['option'],
    mounted() {
        this.createEcharts()
        this.loadDemoMap()
        // this.loadMockData()
    },
    created() {},
    destroyed() {
        this.map = null
    },
    methods: {
        renderHeatMap() {
            let data = _.cloneDeep(this.mapData)
            // 按3份创建多组series对象
            let seriesObjs = data.map(it => {
                return [it.lon, it.lat, it.count]
            })
            this.seriesObj = [
                {
                    type: 'heatmap',
                    zlevel: 3,
                    coordinateSystem: 'bmap',
                    pointSize: 1,
                    blurSize: 1,
                    data: seriesObjs
                }
            ]
        },
        /**
         * [createMap description]
         * @return {[type]} [description]
         */
        createMap() {
            let map = new BMap.Map('allmap', { minZoom: 5, maxZoom: 10 })
            this.map = map
            let point = new BMap.Point(this.mapCenter[0], this.mapCenter[1])
            map.centerAndZoom(point, this.zoom)
            map.enableScrollWheelZoom()
        },
        createEcharts() {
            this.EC = echarts.init(this.$el)
        },
        loadDemoMap() {
            this.loadOp()
            this.renderHeatMap()
        },
        loadMockData() {
            $.getJSON('example/static/uli_user_count.json').then(resp => {
                this.mapData = resp.RECORDS
                this.renderHeatMap()
                this.loadOp()
                this.loadNXBorder()
            })
        },

        // 设置宁夏边界效果
        loadNXBorder() {
            const areas = ['石嘴山', '吴忠', '银川', '中卫', '固原', '灵武']
            // 获取行政区域的边界
            const bdary = new BMap.Boundary()
            const me = this
            // 遍历areas
            areas.forEach(it => {
                bdary.get(it, function(rs) {
                    // 获取行政区域
                    let count = rs.boundaries.length // 有多少个地理区间
                    for (let i = 0; i < count; i++) {
                        // 建立多边形覆盖物
                        let polygon = new BMap.Polygon(rs.boundaries[i], {
                            strokeWeight: 1, // 设置多边形边线线粗
                            strokeOpacity: 0.5, // 设置多边形边线透明度0-1
                            StrokeStyle: 'solid', // 设置多边形边线样式为实线或虚线，取值 solid 或 dashed
                            strokeColor: 'rgb(110,170,227)', // 设置多边形边线颜色
                            fillColor: 'rgb(16,28,52)', // 设置多边形填充颜色
                            fillOpacity: 0.5 // 设置多边形填充颜色透明度0-1
                        })
                        // polygon.addEventListener("click",function(e){
                        // alert("你点击了多边形！");
                        // });
                        // 这里可以对多边形添加事件了
                        //
                        me.map.addOverlay(polygon) // 添加覆盖物
                    }
                })
            })
            /*
            var ply = new BMap.Polygon(
                '107.667164, 37.848731;107.665247, 37.880341;107.651954, 37.877749;107.637232, 37.884382;107.621973, 37.883246;107.577774, 37.89741;107.566551, 37.896215;107.54693, 37.899535;107.511906, 37.917446;107.513492, 37.920541;107.52434, 37.922391;107.511564, 37.923675;107.502196, 37.92639;107.502849, 37.929367;107.47564, 37.935051;107.471462, 37.933098;107.463546, 37.936149;107.461179, 37.942112;107.450325, 37.941219;107.447717, 37.944745;107.437129, 37.945457;107.431034, 37.95003;107.421667, 37.949901;107.414707, 37.953345;107.404865, 37.959841;107.405017, 37.962585;107.413338, 37.960614;107.425099, 37.96813;107.427943, 37.987843;107.44103, 37.998673;107.438047, 38.010923;107.428715, 38.015588;107.398967, 38.021293;107.38857, 38.038107;107.365949, 38.056133;107.363062, 38.065605;107.350037, 38.074463;107.337083, 38.092142;107.312922, 38.101988;107.290846, 38.103385;107.280288, 38.108732;107.247596, 38.116414;107.232621, 38.13491;107.217362, 38.138723;107.193289, 38.161268;107.183523, 38.15809;107.173434, 38.158808;107.154291, 38.161728;107.146188, 38.167725;107.133592, 38.155214;107.130938, 38.142816;107.12725, 38.140766;107.104335, 38.139122;107.097731, 38.141052;107.091373, 38.136097;107.073813, 38.144935;107.056376, 38.12887;107.035588, 38.133915;107.024868, 38.133719;107.020107, 38.126307;107.015551, 38.126551;106.953093, 38.137082;106.900862, 38.152518;106.881272, 38.155113;106.864084, 38.161811;106.77371, 38.180906;106.756744, 38.189599;106.733386, 38.209799;106.663146, 38.2343;106.630111, 38.239107;106.593323, 38.257612;106.560499, 38.269923;106.528264, 38.300868;106.513899, 38.306376;106.513529, 38.310137;106.551032, 38.339071;106.576365, 38.365505;106.653389, 38.477314;106.641917, 38.492025;106.62869, 38.503586;106.62246, 38.504727;106.654767, 38.521503;106.679223, 38.556142;106.693447, 38.568944;106.700121, 38.594093;106.693241, 38.607143;106.68356, 38.610765;106.692627, 38.63314;106.693282, 38.643733;106.70944, 38.66911;106.730764, 38.678266;106.742859, 38.687391;106.757165, 38.74701;106.763509, 38.758073;106.790336, 38.791553;106.814321, 38.828559;106.855503, 38.85496;106.865179, 38.865184;106.872876, 38.880697;106.885714, 38.889729;106.906877, 38.917796;106.925237, 38.931835;106.969167, 38.956083;106.99236, 38.97728;106.977613, 39.030838;106.936568, 39.079611;106.930528, 39.084579;106.913627, 39.086681;106.890577, 39.095025;106.868298, 39.097553;106.851336, 39.122746;106.840044, 39.131327;106.845524, 39.154671;106.842556, 39.185141;106.837376, 39.191215;106.811812, 39.206834;106.807056, 39.214823;106.807879, 39.232111;106.797501, 39.250821;106.799482, 39.260472;106.811774, 39.28172;106.807868, 39.304673;106.813165, 39.321685;106.799376, 39.342866;106.804529, 39.354101;106.795553, 39.370562;106.785372, 39.377597;106.761672, 39.378573;106.755477, 39.394293;106.723767, 39.381588;106.700657, 39.385061;106.691321, 39.381115;106.675019, 39.379921;106.660319, 39.382319;106.649828, 39.377879;106.642178, 39.38167;106.60938, 39.381763;106.604905, 39.379534;106.587382, 39.353725;106.578402, 39.348525;106.561035, 39.328452;106.545229, 39.321758;106.538692, 39.314263;106.530589, 39.314212;106.524988, 39.292039;106.514396, 39.276305;106.490118, 39.279602;106.466616, 39.288657;106.433315, 39.294365;106.369323, 39.286746;106.351889, 39.288884;106.329714, 39.287376;106.284483, 39.276299;106.28036, 39.271397;106.283491, 39.266454;106.285418, 39.237181;106.288928, 39.236306;106.292388, 39.239221;106.294938, 39.236624;106.294145, 39.223223;106.282889, 39.212089;106.285928, 39.199774;106.29572, 39.191849;106.297206, 39.175914;106.301071, 39.171057;106.293576, 39.160931;106.290298, 39.146868;106.275924, 39.142139;106.267869, 39.146297;106.263032, 39.132632;106.256651, 39.138985;106.236074, 39.144653;106.222698, 39.139465;106.205211, 39.14364;106.195426, 39.150376;106.179604, 39.15474;106.174299, 39.163654;106.164314, 39.163935;106.151215, 39.157849;106.129243, 39.130788;106.117634, 39.126402;106.117108, 39.121718;106.122567, 39.117446;106.113892, 39.102267;106.099774, 39.092415;106.100429, 39.081821;106.088642, 39.060109;106.085991, 39.045076;106.090771, 39.041686;106.08312, 39.033567;106.093911, 39.023707;106.09353, 39.01604;106.08167, 38.997907;106.073447, 38.993663;106.065932, 38.974513;106.056502, 38.968587;106.038944, 38.966309;106.02078, 38.951481;106.00874, 38.945679;106.007618, 38.932077;105.996296, 38.925604;105.974186, 38.90451;105.986675, 38.88309;105.991547, 38.880905;106.008252, 38.881642;106.007725, 38.877577;106.001582, 38.873086;105.996157, 38.861423;105.974741, 38.849999;105.969224, 38.840859;105.951794, 38.830112;105.941219, 38.815994;105.94158, 38.809879;105.931684, 38.808621;105.914993, 38.796858;105.902794, 38.794262;105.903446, 38.784358;105.912645, 38.775651;105.906418, 38.761386;105.913255, 38.742846;105.909894, 38.735566;105.89058, 38.721316;105.899164, 38.703994;105.898368, 38.696736;105.878365, 38.677439;105.878438, 38.664496;105.864065, 38.654895;105.857549, 38.645642;105.861711, 38.61999;105.869977, 38.613448;105.872469, 38.604476;105.880324, 38.597577;105.880105, 38.592719;105.876813, 38.587911;105.866487, 38.585804;105.861963, 38.578257;105.868785, 38.552734;105.867821, 38.532363;105.851176, 38.519214;105.853863, 38.502063;105.841808, 38.482006;105.855809, 38.449778;105.848031, 38.443878;105.838524, 38.444037;105.833606, 38.440678;105.836649, 38.432112;105.833466, 38.415133;105.840702, 38.394669;105.826175, 38.370378;105.848738, 38.328135;105.863296, 38.31448;105.871751, 38.300939;105.845497, 38.242328;105.834161, 38.229977;105.785551, 38.215828;105.770164, 38.129711;105.791751, 38.079264;105.848372, 38.01168;105.802803, 37.958092;105.806641, 37.942791;105.801834, 37.918079;105.80962, 37.891241;105.810191, 37.873026;105.803779, 37.858019;105.777779, 37.828492;105.774945, 37.800017;105.76463, 37.799729;105.749055, 37.804285;105.704366, 37.78974;105.699031, 37.784767;105.680024, 37.777446;105.672181, 37.776887;105.67014, 37.77219;105.654958, 37.773146;105.645003, 37.766597;105.639646, 37.760419;105.642959, 37.752876;105.663635, 37.730145;105.658237, 37.720392;105.64238, 37.707164;105.600753, 37.704178;105.56814, 37.70625;105.47526, 37.693;105.423465, 37.701701;105.395942, 37.713542;105.368779, 37.708246;105.330094, 37.709846;105.267974, 37.684001;105.213308, 37.680348;105.199397, 37.672569;105.189498, 37.672366;105.174213, 37.664774;105.086901, 37.654767;105.076502, 37.645487;105.058255, 37.597736;105.05418, 37.55463;105.048166, 37.547213;105.008883, 37.550897;104.796963, 37.545811;104.748752, 37.524478;104.698143, 37.512496;104.683167, 37.513279;104.649664, 37.527794;104.601209, 37.540096;104.540842, 37.526962;104.535096, 37.522909;104.424577, 37.514837;104.414974, 37.473908;104.405571, 37.467741;104.376276, 37.467411;104.361997, 37.455703;104.346501, 37.449478;104.327654, 37.453726;104.314432, 37.449461;104.298719, 37.4373;104.351496, 37.431031;104.370389, 37.42408;104.389073, 37.423406;104.426506, 37.414945;104.463362, 37.419522;104.466512, 37.440347;104.483745, 37.447862;104.55103, 37.426795;104.646912, 37.424029;104.677063, 37.414469;104.685116, 37.415388;104.702387, 37.425175;104.745014, 37.428171;104.741732, 37.421312;104.681826, 37.370246;104.694271, 37.357302;104.723274, 37.353879;104.719543, 37.337069;104.709827, 37.335857;104.695603, 37.325435;104.679577, 37.3231;104.673456, 37.317797;104.669631, 37.304448;104.657618, 37.297465;104.652256, 37.297221;104.639277, 37.305004;104.630429, 37.304967;104.625445, 37.301383;104.630423, 37.285014;104.616056, 37.282543;104.618083, 37.276253;104.604886, 37.253395;104.623935, 37.222525;104.646276, 37.210611;104.664612, 37.212232;104.664231, 37.217416;104.674048, 37.209831;104.683844, 37.209145;104.723524, 37.213548;104.755697, 37.241441;104.770418, 37.247266;104.778687, 37.254413;104.79946, 37.2414;104.809175, 37.241259;104.816208, 37.235866;104.828916, 37.234936;104.83774, 37.22769;104.859999, 37.220602;104.865145, 37.210355;104.86474, 37.190995;104.872862, 37.177618;104.897379, 37.160944;104.902054, 37.134123;104.915187, 37.12789;104.922922, 37.11836;104.920043, 37.103589;104.935369, 37.092528;104.954448, 37.088472;104.95297, 37.046918;104.959513, 37.039964;104.965164, 37.036262;104.988565, 37.04274;105.011873, 37.04128;105.032392, 37.030465;105.04263, 37.0126;105.051024, 37.02205;105.063599, 37.028684;105.113773, 37.006217;105.169893, 36.999947;105.186846, 36.972686;105.182886, 36.96247;105.190178, 36.940606;105.187736, 36.894579;105.191529, 36.893062;105.200803, 36.901196;105.223034, 36.897174;105.231928, 36.901172;105.251234, 36.888237;105.256962, 36.887314;105.262302, 36.890272;105.28486, 36.87459;105.284097, 36.856771;105.302798, 36.850464;105.305308, 36.841362;105.314892, 36.830676;105.311166, 36.817336;105.326356, 36.808139;105.346051, 36.814433;105.339488, 36.809531;105.342522, 36.783769;105.339045, 36.769074;105.327258, 36.75499;105.313583, 36.748954;105.296811, 36.756027;105.282032, 36.758234;105.274793, 36.743636;105.256276, 36.741536;105.253242, 36.737872;105.248801, 36.74021;105.240492, 36.738209;105.231751, 36.739864;105.223361, 36.736321;105.207428, 36.710771;105.207331, 36.699938;105.214634, 36.684901;105.233751, 36.664881;105.234284, 36.655557;105.224378, 36.64329;105.227135, 36.637101;105.247732, 36.611338;105.265166, 36.607059;105.279624, 36.583248;105.274236, 36.565142;105.257236, 36.559246;105.254926, 36.555478;105.254102, 36.552896;105.261407, 36.549957;105.264876, 36.539568;105.268946, 36.540105;105.283188, 36.531375;105.290949, 36.534186;105.304257, 36.53033;105.326574, 36.541816;105.342764, 36.523584;105.366561, 36.504359;105.373615, 36.486795;105.371558, 36.476709;105.376532, 36.461348;105.372397, 36.453213;105.374547, 36.444168;105.390005, 36.446475;105.404823, 36.434519;105.402384, 36.413586;105.40567, 36.396598;105.407581, 36.390688;105.417783, 36.386954;105.415613, 36.38295;105.401794, 36.38312;105.410344, 36.364132;105.414842, 36.362498;105.414509, 36.358712;105.420231, 36.353995;105.429103, 36.351955;105.430992, 36.335761;105.442469, 36.329987;105.459427, 36.328698;105.463243, 36.317198;105.481334, 36.299385;105.479498, 36.282995;105.470795, 36.28004;105.464678, 36.272377;105.471021, 36.258847;105.462838, 36.244219;105.464955, 36.231816;105.477735, 36.223055;105.484626, 36.214044;105.503729, 36.165154;105.519385, 36.153641;105.513491, 36.145201;105.503203, 36.139555;105.504427, 36.125789;105.494585, 36.107601;105.477288, 36.106025;105.466502, 36.113273;105.458209, 36.107395;105.450005, 36.108208;105.448138, 36.104114;105.4427, 36.108549;105.436796, 36.10863;105.4143, 36.080949;105.406163, 36.079118;105.397401, 36.066955;105.384705, 36.064784;105.368154, 36.053705;105.366718, 36.049168;105.370902, 36.040545;105.350933, 36.038768;105.348488, 36.036425;105.345231, 36.023233;105.347862, 36.011666;105.338324, 36.006042;105.34082, 35.986083;105.337001, 35.95734;105.330341, 35.947553;105.341255, 35.935171;105.345495, 35.915281;105.338262, 35.915674;105.33243, 35.910533;105.339739, 35.892298;105.346091, 35.885842;105.355428, 35.882107;105.363021, 35.88544;105.375657, 35.877252;105.384371, 35.878198;105.397761, 35.871007;105.402929, 35.863089;105.401513, 35.852986;105.396479, 35.85273;105.390599, 35.859627;105.376182, 35.850396;105.383817, 35.830949;105.380639, 35.822631;105.391437, 35.823572;105.380441, 35.812683;105.386391, 35.799047;105.392692, 35.801705;105.399978, 35.815492;105.41395, 35.827901;105.420817, 35.828847;105.423614, 35.819928;105.432144, 35.825679;105.43601, 35.818611;105.43713, 35.793214;105.442659, 35.785596;105.452563, 35.786778;105.462527, 35.777604;105.459087, 35.753522;105.463344, 35.753122;105.469215, 35.75879;105.476412, 35.757762;105.483168, 35.736481;105.498598, 35.731271;105.500423, 35.728038;105.508721, 35.729212;105.512242, 35.725247;105.532106, 35.732241;105.543274, 35.727431;105.552089, 35.73333;105.56656, 35.730333;105.573106, 35.720066;105.565419, 35.704467;105.569657, 35.693416;105.580341, 35.705224;105.575339, 35.722154;105.600856, 35.721769;105.601356, 35.727497;105.606213, 35.730638;105.627735, 35.735912;105.64566, 35.744654;105.652529, 35.744607;105.672388, 35.755401;105.677654, 35.754058;105.683302, 35.743634;105.686737, 35.744313;105.68761, 35.751993;105.694619, 35.751929;105.696332, 35.742284;105.707456, 35.739242;105.711752, 35.743066;105.719552, 35.744038;105.742677, 35.729645;105.74963, 35.737829;105.755065, 35.734637;105.7603, 35.736367;105.764237, 35.730735;105.761877, 35.723057;105.745702, 35.704602;105.733633, 35.705837;105.729767, 35.7303;105.72611, 35.732201;105.711923, 35.710107;105.705124, 35.710252;105.69622, 35.704452;105.69576, 35.689856;105.709419, 35.691942;105.724983, 35.684247;105.727979, 35.677944;105.719258, 35.65454;105.731492, 35.644731;105.741777, 35.648573;105.7493, 35.645976;105.747219, 35.632356;105.755605, 35.629548;105.762233, 35.639145;105.76829, 35.637547;105.765266, 35.625005;105.753791, 35.620656;105.762167, 35.61714;105.767476, 35.608622;105.776739, 35.60805;105.787881, 35.602917;105.791838, 35.594389;105.784944, 35.592076;105.785055, 35.589072;105.803558, 35.571431;105.821697, 35.581058;105.82943, 35.565842;105.826825, 35.559004;105.832928, 35.554128;105.827176, 35.545728;105.828282, 35.543957;105.839873, 35.547158;105.841744, 35.500982;105.847397, 35.495986;105.852092, 35.496679;105.861396, 35.517543;105.867237, 35.521093;105.873817, 35.545901;105.879209, 35.541536;105.889756, 35.540578;105.889712, 35.549461;105.905842, 35.552722;105.921053, 35.5448;105.998063, 35.533822;106.010017, 35.525253;106.015135, 35.529419;106.019434, 35.529023;106.022807, 35.517689;106.01571, 35.513777;106.025889, 35.499437;106.061521, 35.50711;106.068842, 35.505523;106.071465, 35.510071;106.07773, 35.497557;106.0837, 35.515824;106.097052, 35.516177;106.104632, 35.505674;106.095235, 35.50147;106.093215, 35.495607;106.073256, 35.494246;106.077903, 35.47283;106.07411, 35.460553;106.082093, 35.451586;106.083304, 35.43561;106.089527, 35.424924;106.086458, 35.419328;106.091494, 35.410123;106.106505, 35.406508;106.103064, 35.399636;106.110819, 35.393753;106.107653, 35.385972;106.114194, 35.36904;106.121151, 35.368019;106.118918, 35.379014;106.124494, 35.381005;106.129112, 35.379134;106.133967, 35.403506;106.142317, 35.404822;106.163314, 35.423572;106.172286, 35.426828;106.17998, 35.444297;106.184086, 35.442403;106.185917, 35.430553;106.191953, 35.43431;106.194672, 35.422533;106.199694, 35.416949;106.212768, 35.415528;106.224236, 35.418696;106.242815, 35.415241;106.249722, 35.383197;106.256051, 35.376603;106.246727, 35.364247;106.257011, 35.352477;106.259031, 35.343001;106.267158, 35.335867;106.280703, 35.33477;106.292497, 35.31572;106.291019, 35.307281;106.305423, 35.294247;106.315682, 35.294702;106.325912, 35.28392;106.32486, 35.271651;106.341122, 35.257137;106.355966, 35.256763;106.362951, 35.244451;106.368922, 35.243982;106.381715, 35.256427;106.373546, 35.279135;106.381681, 35.281522;106.392724, 35.275382;106.41623, 35.285686;106.423063, 35.282008;106.441986, 35.303691;106.450855, 35.303879;106.462391, 35.314261;106.479833, 35.31842;106.495148, 35.333838;106.49337, 35.34293;106.497715, 35.355718;106.50415, 35.356634;106.514632, 35.363928;106.506617, 35.369832;106.507125, 35.377156;106.501464, 35.381712;106.503627, 35.392213;106.498415, 35.399125;106.508918, 35.421818;106.488788, 35.456276;106.495492, 35.486031;106.491502, 35.488855;106.475654, 35.48572;106.471606, 35.487554;106.468556, 35.507681;106.454689, 35.515786;106.457163, 35.522274;106.448794, 35.525564;106.445859, 35.53167;106.459971, 35.543802;106.456513, 35.547653;106.45614, 35.559684;106.463886, 35.58029;106.472289, 35.585282;106.487857, 35.581758;106.480694, 35.588351;106.476764, 35.606786;106.470564, 35.612001;106.470682, 35.626595;106.458251, 35.638643;106.466801, 35.648829;106.454876, 35.653818;106.450199, 35.66594;106.445447, 35.666206;106.442899, 35.669735;106.441422, 35.693848;106.449585, 35.69841;106.451191, 35.694883;106.457194, 35.697484;106.453894, 35.699451;106.455575, 35.705094;106.462951, 35.713079;106.462542, 35.716977;106.472335, 35.723506;106.493578, 35.729467;106.498512, 35.725656;106.497007, 35.734436;106.504131, 35.739834;106.529838, 35.745271;106.53628, 35.731587;106.535655, 35.747657;106.571732, 35.744996;106.587152, 35.736461;106.600357, 35.733665;106.606757, 35.737342;106.60426, 35.746712;106.606683, 35.750841;106.616193, 35.743364;106.617485, 35.734988;106.621488, 35.746766;106.626356, 35.7494;106.629479, 35.732902;106.638554, 35.720492;106.653801, 35.715293;106.657175, 35.72139;106.662875, 35.713722;106.674063, 35.716584;106.673971, 35.720759;106.679447, 35.717513;106.676324, 35.724656;106.680021, 35.734236;106.687879, 35.735584;106.685993, 35.729239;106.692584, 35.730947;106.697872, 35.721188;106.719031, 35.710025;106.738197, 35.694717;106.740471, 35.697142;106.742879, 35.695007;106.748379, 35.697493;106.756091, 35.695234;106.760065, 35.696899;106.758843, 35.704885;106.751491, 35.703798;106.750025, 35.705998;106.756659, 35.711452;106.756867, 35.731693;106.762262, 35.728724;106.77283, 35.734354;106.774659, 35.72825;106.778763, 35.731174;106.782416, 35.728069;106.787667, 35.729778;106.796693, 35.723845;106.801386, 35.725984;106.803216, 35.719594;106.811855, 35.715736;106.821573, 35.72243;106.828961, 35.723629;106.824352, 35.750669;106.833022, 35.751246;106.839272, 35.743811;106.84129, 35.749639;106.855795, 35.750341;106.871449, 35.743573;106.876747, 35.782586;106.890601, 35.777645;106.891514, 35.766751;106.902829, 35.765806;106.903742, 35.778446;106.907285, 35.78101;106.914108, 35.773872;106.916777, 35.774865;106.916408, 35.783805;106.92031, 35.784123;106.917134, 35.789457;106.919507, 35.79757;106.909739, 35.800465;106.909299, 35.810004;106.904246, 35.809305;106.902934, 35.814491;106.919895, 35.813003;106.926023, 35.809509;106.932684, 35.815167;106.931446, 35.8179;106.921507, 35.819821;106.924392, 35.825441;106.91791, 35.836651;106.905085, 35.833291;106.903097, 35.845716;106.896933, 35.846658;106.887727, 35.856643;106.886267, 35.864459;106.883253, 35.858458;106.874597, 35.876084;106.879319, 35.880407;106.888901, 35.874758;106.886099, 35.88658;106.881404, 35.889003;106.878537, 35.883831;106.863438, 35.886744;106.858277, 35.888981;106.855653, 35.894723;106.867866, 35.900931;106.866277, 35.914397;106.878058, 35.91154;106.894783, 35.924224;106.910652, 35.918791;106.910083, 35.930959;106.914305, 35.931155;106.916466, 35.936242;106.932624, 35.933927;106.940555, 35.939763;106.94572, 35.937117;106.950011, 35.946258;106.940343, 35.956971;106.932659, 35.958011;106.927385, 35.954759;106.924106, 35.946688;106.907745, 35.949615;106.901945, 35.956076;106.897087, 35.972039;106.901512, 35.970107;106.903926, 35.972039;106.905363, 35.966019;106.912873, 35.96942;106.91575, 35.967841;106.915677, 35.956302;106.921362, 35.950877;106.92281, 35.967417;106.930714, 35.97654;106.931111, 35.981912;106.936666, 35.980932;106.939991, 35.98735;106.949453, 35.990245;106.954261, 35.997955;106.955676, 36.00871;106.936554, 36.014737;106.931499, 36.027539;106.9354, 36.035083;106.947908, 36.039717;106.946964, 36.053649;106.951959, 36.058662;106.942697, 36.064969;106.952053, 36.075083;106.951091, 36.084546;106.961857, 36.08895;106.963958, 36.098113;106.961726, 36.100342;106.956638, 36.095334;106.954307, 36.10358;106.945288, 36.107777;106.951975, 36.128778;106.944488, 36.131379;106.937031, 36.121413;106.931874, 36.12231;106.938479, 36.143539;106.927417, 36.139835;106.924524, 36.130296;106.918806, 36.132568;106.911236, 36.145605;106.917442, 36.161039;106.903985, 36.175292;106.893204, 36.173254;106.886363, 36.179591;106.877256, 36.181433;106.869825, 36.199572;106.860686, 36.209776;106.849529, 36.207568;106.837528, 36.235413;106.833553, 36.23414;106.831959, 36.220788;106.823983, 36.227087;106.810438, 36.217883;106.795657, 36.231714;106.788512, 36.225481;106.782255, 36.2293;106.776387, 36.219251;106.754938, 36.228369;106.747729, 36.236311;106.733929, 36.238073;106.727936, 36.233103;106.713912, 36.242216;106.689168, 36.277524;106.680234, 36.277236;106.66937, 36.270192;106.662717, 36.273358;106.658925, 36.265255;106.652429, 36.264626;106.649363, 36.289567;106.645789, 36.286448;106.642746, 36.271893;106.637366, 36.2712;106.625392, 36.279099;106.616255, 36.280604;106.613822, 36.293586;106.607928, 36.29921;106.603506, 36.293252;106.6049, 36.281768;106.601193, 36.276855;106.588589, 36.289811;106.573255, 36.299703;106.564102, 36.297424;106.56587, 36.277258;106.563288, 36.2699;106.556862, 36.263867;106.549066, 36.264561;106.547465, 36.260606;106.520492, 36.277409;106.513796, 36.276288;106.508692, 36.270677;106.501783, 36.282302;106.4915, 36.289158;106.484135, 36.304771;106.477201, 36.309047;106.477086, 36.315919;106.486896, 36.321305;106.517414, 36.291902;106.515133, 36.309183;106.508204, 36.313612;106.504311, 36.325325;106.51169, 36.3338;106.511901, 36.382955;106.515686, 36.384448;106.530424, 36.378523;106.537544, 36.381962;106.530279, 36.38854;106.530954, 36.397473;106.52387, 36.400438;106.519494, 36.397095;106.51006, 36.40698;106.495601, 36.404702;106.491499, 36.411456;106.496903, 36.428371;106.509619, 36.424209;106.515281, 36.427282;106.515201, 36.432718;106.506467, 36.441619;106.508387, 36.447962;106.525065, 36.462025;106.528531, 36.474229;106.525349, 36.477605;106.526286, 36.484823;106.510053, 36.49027;106.499051, 36.49988;106.495449, 36.489557;106.488903, 36.486751;106.480107, 36.501213;106.469447, 36.501227;106.467192, 36.504659;106.460079, 36.503075;106.438491, 36.523625;106.427684, 36.520355;106.416915, 36.524519;106.422234, 36.536387;106.399697, 36.551755;106.389278, 36.550509;106.378336, 36.554739;106.377432, 36.563794;106.36756, 36.577838;106.368928, 36.581539;106.373781, 36.581073;106.39739, 36.562105;106.400579, 36.563736;106.398826, 36.569728;106.403399, 36.581567;106.412421, 36.578062;106.42438, 36.567732;106.43397, 36.564956;106.447537, 36.562767;106.460603, 36.565536;106.46135, 36.574117;106.454439, 36.584355;106.464784, 36.593353;106.460487, 36.600484;106.449444, 36.607038;106.447642, 36.630144;106.475496, 36.625326;106.492475, 36.634231;106.494277, 36.638782;106.48912, 36.646035;106.4907, 36.650074;106.50539, 36.651015;106.497937, 36.665122;106.499669, 36.672889;106.495129, 36.690653;106.516641, 36.698321;106.535509, 36.691942;106.532868, 36.700949;106.517641, 36.7202;106.530972, 36.724028;106.53773, 36.736549;106.544986, 36.734866;106.549918, 36.738773;106.556282, 36.738708;106.563797, 36.748113;106.57242, 36.740324;106.579121, 36.740373;106.582493, 36.744622;106.578202, 36.754823;106.586922, 36.759833;106.603106, 36.75128;106.615483, 36.737992;106.622671, 36.742786;106.638634, 36.728902;106.651168, 36.727589;106.657412, 36.729691;106.655855, 36.736101;106.638576, 36.741415;106.633885, 36.761291;106.643285, 36.767068;106.646828, 36.803423;106.657242, 36.806884;106.654774, 36.812413;106.662305, 36.817333;106.662811, 36.826446;106.659156, 36.832726;106.644167, 36.836398;106.647349, 36.843278;106.646694, 36.856415;106.633539, 36.864731;106.634328, 36.869487;106.640091, 36.873551;106.637798, 36.883301;106.649005, 36.893863;106.642808, 36.8976;106.627447, 36.899813;106.623602, 36.890917;106.616334, 36.884943;106.613583, 36.886156;106.575554, 36.936321;106.567588, 36.937876;106.555418, 36.94627;106.558073, 36.961952;106.54738, 36.976169;106.544072, 36.986932;106.545609, 36.990428;106.549714, 36.990094;106.577002, 36.964412;106.584079, 36.954923;106.578921, 36.946052;106.587082, 36.941211;106.600077, 36.946249;106.595805, 36.96567;106.599796, 36.972891;106.630135, 36.965864;106.64838, 36.970407;106.645423, 36.980645;106.652864, 37.009225;106.651038, 37.020447;106.644395, 37.02894;106.65219, 37.032603;106.657178, 37.047018;106.652629, 37.053489;106.651897, 37.079104;106.627437, 37.101183;106.61055, 37.133279;106.619361, 37.14177;106.630307, 37.143593;106.642595, 37.136967;106.646057, 37.126686;106.670728, 37.13468;106.674883, 37.118633;106.679241, 37.118919;106.686777, 37.125574;106.69303, 37.116568;106.705477, 37.12539;106.706504, 37.130526;106.726289, 37.12674;106.73857, 37.112429;106.754651, 37.106506;106.760162, 37.094623;106.764516, 37.092756;106.761913, 37.107812;106.775733, 37.124385;106.771313, 37.141791;106.766238, 37.14461;106.770718, 37.153046;106.785769, 37.165132;106.79362, 37.162737;106.798153, 37.157306;106.81793, 37.15172;106.8282, 37.140981;106.844983, 37.133824;106.856021, 37.125078;106.8723, 37.126675;106.885119, 37.11551;106.896451, 37.110571;106.905741, 37.114575;106.906938, 37.129016;106.914479, 37.130501;106.914744, 37.132853;106.894814, 37.152743;106.900333, 37.157194;106.912363, 37.157865;106.935534, 37.150162;106.961669, 37.131382;106.964106, 37.122375;106.97516, 37.117031;106.998714, 37.12855;107.031201, 37.120169;107.035659, 37.114518;107.037039, 37.125871;107.031466, 37.138419;107.039809, 37.14442;107.065547, 37.130854;107.084553, 37.135594;107.104074, 37.123498;107.114835, 37.132065;107.14382, 37.142958;107.187774, 37.150737;107.24071, 37.104171;107.257335, 37.113746;107.291807, 37.102225;107.283348, 37.110007;107.281129, 37.116575;107.275694, 37.119217;107.284128, 37.122131;107.27918, 37.131543;107.281672, 37.13407;107.289696, 37.132923;107.310343, 37.110027;107.315604, 37.109624;107.31716, 37.117358;107.320846, 37.117606;107.336493, 37.136962;107.344243, 37.166495;107.330654, 37.198057;107.274707, 37.236094;107.277128, 37.241668;107.288584, 37.24434;107.290453, 37.242226;107.295553, 37.247287;107.312884, 37.242295;107.315683, 37.24458;107.315776, 37.257086;107.299649, 37.284846;107.27561, 37.296708;107.277241, 37.301066;107.265653, 37.325742;107.266367, 37.332854;107.260177, 37.338763;107.269573, 37.354967;107.264891, 37.378228;107.274948, 37.388415;107.273003, 37.393937;107.27586, 37.400546;107.283017, 37.405219;107.282, 37.413443;107.287529, 37.418948;107.282927, 37.429002;107.293581, 37.460734;107.292327, 37.49041;107.300618, 37.49921;107.321679, 37.508456;107.325587, 37.508517;107.328064, 37.499684;107.33602, 37.50189;107.338542, 37.504897;107.33608, 37.513372;107.351939, 37.522561;107.356463, 37.541624;107.366664, 37.553931;107.370624, 37.566807;107.366486, 37.582061;107.359452, 37.585845;107.350606, 37.585255;107.325954, 37.596365;107.315782, 37.616918;107.326083, 37.619675;107.334054, 37.616786;107.343462, 37.6208;107.357577, 37.62029;107.37301, 37.624117;107.393029, 37.657102;107.397496, 37.670686;107.38991, 37.690508;107.391576, 37.69721;107.413403, 37.700245;107.434715, 37.689131;107.446808, 37.694161;107.459513, 37.694449;107.479207, 37.706189;107.477079, 37.715319;107.486313, 37.720074;107.477888, 37.727836;107.50433, 37.733933;107.506561, 37.744297;107.501786, 37.756067;107.492729, 37.760649;107.48995, 37.765635;107.50354, 37.776936;107.526831, 37.780742;107.585865, 37.774564;107.595749, 37.783257;107.60017, 37.791967;107.603975, 37.792181;107.620207, 37.781308;107.628539, 37.782616;107.650799, 37.809266;107.655619, 37.832316;107.667164, 37.848731',
                {
                    strokeWeight: 1, // 设置多边形边线线粗
                    strokeOpacity: 0.5, // 设置多边形边线透明度0-1
                    strokeStyle: 'solid', // 设置多边形边线样式为实线或虚线，取值 solid 或 dashed
                    strokeColor: 'rgb(110,170,227)', // 设置多边形边线颜色
                    fillColor: 'rgb(16,28,52)', // 设置多边形填充颜色
                    fillOpacity: 0.5 // 设置多边形填充颜色透明度0-1
                }
            )
            this.map.addOverlay(ply)
            */
        },
        loadOp() {
            let option = {
                bmap: {
                    center: this.mapCenter,
                    zoom: this.zoom,
                    roam: true,
                    mapStyle: {
                        styleJson: [
                            {
                                featureType: 'land', // 调整土地颜色
                                elementType: 'geometry',
                                stylers: {
                                    color: 'rgba(16,28,52,1)'
                                }
                            },
                            {
                                featureType: 'building', // 调整建筑物颜色
                                elementType: 'geometry',
                                stylers: {
                                    color: '#04406F'
                                }
                            },
                            {
                                featureType: 'building', // 调整建筑物标签是否可视
                                elementType: 'labels',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'highway', // 调整高速道路颜色
                                elementType: 'geometry',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'highway', // 调整高速名字是否可视
                                elementType: 'labels',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'arterial', // 调整一些干道颜色
                                elementType: 'geometry',
                                stylers: {
                                    color: '#003051'
                                }
                            },
                            {
                                featureType: 'arterial',
                                elementType: 'labels',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'green',
                                elementType: 'geometry',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'water',
                                elementType: 'geometry',
                                stylers: {
                                    color: '#044161',
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'subway', // 调整地铁颜色
                                elementType: 'geometry.stroke',
                                stylers: {
                                    color: '#003051',
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'subway',
                                elementType: 'labels',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'railway',
                                elementType: 'geometry',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'railway',
                                elementType: 'labels',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'all', // 调整所有的标签的边缘颜色
                                elementType: 'labels.text.stroke',
                                stylers: {
                                    color: '#313131'
                                }
                            },
                            {
                                featureType: 'all', // 调整所有标签的填充颜色
                                elementType: 'labels.text.fill',
                                stylers: {
                                    color: '#FFFFFF'
                                }
                            },
                            {
                                featureType: 'manmade',
                                elementType: 'geometry',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'manmade',
                                elementType: 'labels',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'local',
                                elementType: 'geometry',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'local',
                                elementType: 'labels',
                                stylers: {
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'subway',
                                elementType: 'geometry',
                                stylers: {
                                    lightness: -65,
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'railway',
                                elementType: 'all',
                                stylers: {
                                    lightness: -40,
                                    visibility: 'off'
                                }
                            },
                            {
                                featureType: 'boundary',
                                elementType: 'geometry',
                                stylers: {
                                    color: '#8b8787',
                                    weight: '1',
                                    lightness: -29
                                }
                            }
                        ]
                    }
                },
                visualMap: {
                    show: false,
                    top: 'top',
                    min: 0,
                    max: 1000,
                    seriesIndex: 0,
                    calculable: true,
                    inRange: {
                        color: ['blue', 'blue', 'green', 'yellow', 'red']
                    }
                },
                series: this.seriesObj
            }
            this.EC.setOption(option)
            this.map = this.EC.getModel()
                .getComponent('bmap')
                .getBMap()
        }
    }
}
</script>

<style scoped>
#allmap {
    width: 100%;
    height: 100%;
    position: absolute;
}
</style>
